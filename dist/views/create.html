<div class="container"> <h1>Create new voting</h1> <form name="voteCreateForm" novalidate class="form-horizontal" valid-submit="createNewVoteDef()"> <fieldset class="form-group"> <textarea rows="3" id="description" class="form-control" ng-model="voteDef.description" placeholder="Give short description for voters"></textarea> </fieldset> <fieldset class="form-group clearfix" ng-class="{
        'has-error': voteCreateForm.$submitted && voteCreateForm.email.$invalid,
        'has-success': voteCreateForm.$submitted && voteCreateForm.email.$valid}"> <input type="email" id="email" class="form-control" ng-model="voteDef.email" placeholder="Email" required> <div class="alert alert-danger" ng-show="voteCreateForm.$submitted && voteCreateForm.email.$error.required">Email is required</div> <div class="alert alert-danger" ng-show="voteCreateForm.$submitted && voteCreateForm.email.$error.email">Email is not a valid mail</div> <!-- <div ng-messages="voteCreateForm.email.$error" style="color:maroon">
    <div ng-message="required">You did not enter a field</div>
    <div ng-message="email">Your field is too short</div>
</div> --> <p class="help-block">You will receive update link to this email</p> </fieldset> <fieldset class="form-group"> <div ng-controller="VoteFieldCtrl as fCtrl"> <div class="input-group" ng-repeat="field in voteDef.fields"> <!-- <span class="input-group-addon">{{field.id}}</span> --> <input type="text" class="form-control" ng-model="field.value" placeholder="Give new option here.."> <span class="input-group-btn"> <button class="btn btn-default" type="button" ng-click="removeField(field.id, voteDef)"> <span class="glyphicon glyphicon-remove"></span> </button> </span> </div> <button type="button" ng-click="addField(voteDef)" class="btn btn-default btn-sm">Add Option</button> </div></fieldset> <fieldset class="form-group"> <input type="submit" ng-click="submitted=true" class="btn btn-primary pull-right" value="Submit"> </fieldset> Debug: {{voteCreateForm.email.$error}} <br> VoteDefs: {{voteDefs}} <p>Is form valid: {{voteCreateForm.$valid}}</p> </form> </div>